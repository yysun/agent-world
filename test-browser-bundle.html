<!DOCTYPE html>
<html>

<head>
  <title>Core ESM Bundle Test</title>
</head>

<body>
  <div id="output"></div>
  <script type="module">
    // Test importing the core ESM bundle
    import {
      LLMProvider,
      shouldAutoSaveMemory,
      generateId,
      toKebabCase,
      VERSION
    } from './dist/core.esm.js';

    const output = document.getElementById('output');

    function log(message) {
      const div = document.createElement('div');
      div.textContent = message;
      output.appendChild(div);
    }

    // Test the exported functions
    log('ðŸš€ Testing Core ESM Bundle');
    log(`Version: ${VERSION}`);
    log(`Generated ID: ${generateId()}`);
    log(`Kebab case: ${toKebabCase('Hello World Test')}`);
    log(`LLM Provider OpenAI: ${LLMProvider.OPENAI}`);

    // Test auto-save logic with mock objects
    const mockWorld = { autoSave: true };
    const mockAgent = { autoSyncMemory: false };
    log(`Auto-save test (world=true, agent=false): ${shouldAutoSaveMemory(mockWorld, mockAgent)}`);

    const mockWorld2 = { autoSave: false };
    const mockAgent2 = { autoSyncMemory: true };
    log(`Auto-save test (world=false, agent=true): ${shouldAutoSaveMemory(mockWorld2, mockAgent2)}`);

    log('âœ… All tests passed!');
  </script>
</body>

</html>